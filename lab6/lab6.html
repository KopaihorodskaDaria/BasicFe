<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>JavaScript. Формат JSON. API. Отримання даних із зовнішньої сторінки</title>
	<link rel ="stylesheet" href = "style.css">
</head>
<body> 
	    <main>
			<button type="button" class ="downloadBtn"> download </button>
			<section class="cards"></section>
		</main>
	<script>
		async function getPerson(){
				
	const response = await fetch('https://randomuser.me/api/');
	const {results:[person]} = await response.json();
	return {
		imageLink: person.picture.large,
		city: person.location.city,
		country: person.location.country,
		name: `${person.name.first} ${person.name.last}`,
		postcode: person.location.postcode,
	};
};

document.querySelector('.downloadBtn').addEventListener('click', async(event)=>{
	event.target.disabled = true;

	const{imageLink, city, country, name, postcode} = await getPerson();
	const card = document.createElement('div');
	card.classList.add('card');
	card.innerHTML = `
	<img class="card-image" scr="${imageLink}" alt="card-image">
	<div class="card-text">City:&nbsp;<span>${city}</span></div>
	<div class="card-text">Country:&nbsp;<span>${country}</span></div>
	<div class="card-text">Name:&nbsp;<span>${name}</span></div>
	<div class="card-text">Postcode:&nbsp;<span>${postcode}</span></div>
	`
	document.querySelector('.cards').append(card);
	event.target.disabled = false;
});
	</script>
</body>
</html>